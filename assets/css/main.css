@import "tailwindcss";

@custom-variant browser-safari  (&:where([data-app-browser-value="safari"] *));
@custom-variant browser-ios     (&:where([data-app-browser-value="ios"] *));
@custom-variant browser-firefox (&:where([data-app-browser-value="firefox"] *));
@custom-variant browser-chrome  (&:where([data-app-browser-value="chrome"] *));

:root {
    color-scheme: light dark;

    --color-0:   #ffffff;
    --color-100: #f5f5f7;
    --color-200: #e9e9eb;
    --color-300: #bdbfc3;
    --color-400: #91959b;
    --color-500: #707680;
    --color-600: #39404b;
    --color-700: #0d1623;

    --color-blue-600:  #065fe3;
    --color-red-600:   #ba0730;
    --color-green-600: #05ab48;

    --color-border: var(--color-200);
}

@media (prefers-color-scheme: dark) {
    :root {
        --color-0:   #262626;
        --color-100: #2d2d2d;
        --color-200: #353535;
        --color-300: #4d4d4d;
        --color-400: #707070;
        --color-500: #8c8c8c;
        --color-600: #d4d4d4;
        --color-700: #f6f6f6;

        --color-blue-600:  #0773ff;
        --color-red-600:   #d30d36;
        --color-green-600: #04c451;

        --color-border: #000000;
    }
}

@theme {
    /* disable all default colors */
    --color-*:   initial;
    --color-0:   var(--color-0);
    --color-100: var(--color-100);
    --color-200: var(--color-200);
    --color-300: var(--color-300);
    --color-400: var(--color-400);
    --color-500: var(--color-500);
    --color-600: var(--color-600);
    --color-700: var(--color-700);

    --color-white:   #ffffff;
    --color-black:   #000000;

    --color-blue-400:   #619eeb;
    --color-blue-700:   #0554ba;
    --color-green-700:  #03913a;
    --color-red-200:    #f8e8eb;
    --color-orange-600: #e86b0d;

    --color-border: var(--color-border);
    --color-input:  var(--color-400);

    /* higher contrast dark mode variants */
    --color-blue-600:  var(--color-blue-600);
    --color-red-600:   var(--color-red-600);
    --color-green-600: var(--color-green-600);
}

@utility button-base {
  @apply w-full cursor-pointer rounded-lg py-2.5 px-8 font-medium outline-2 outline-offset-1 outline-transparent transition
  disabled:cursor-default disabled:border-300 disabled:shadow-none disabled:bg-200 disabled:text-500
  focus-visible:outline-blue-400;
}

@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-border);
    }
    input[type="checkbox"]::before {
        clip-path: path("M5.25 5.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0 M7.712.228a.75.75 0 0 1 1.171.924l-.044.063-3.75 4.75a.75.75 0 0 1-1.178-.93l3.75-4.75z M.9 2.8a.75.75 0 0 1 .987-.193l.063.043 3 2.25.059.05a.75.75 0 0 1-.895 1.193L4.05 6.1l-3-2.25-.059-.05a.75.75 0 0 1-.09-1z");
    }
    @keyframes grow-then-fade {
        0% {
            width: 32px;
            height: 32px;
            opacity: 1;
        }
        50% {
            width: 48px;
            height: 48px;
            opacity: 1;
        }
        100% {
            width: 48px;
            height: 48px;
            opacity: 0;
        }
    }
}

@layer components {
    .animate-grow-fade {
        animation: grow-then-fade 1.5s ease-out forwards;
    }
    .text-input {
        @apply flex items-stretch w-full max-w-full rounded-md border border-input shadow-sm overflow-hidden relative -outline-offset-1 outline-3 outline-transparent transition
               focus-within:shadow-none focus-within:border-blue-600 focus-within:outline-blue-600;
    }
    .text-input input {
        @apply text-700 grow max-w-0 placeholder:text-400 w-full max-w-full appearance-none focus:outline-none p-2 py-2.5;
    }
    .text-input select {
        @apply text-700 grow max-w-0 w-full max-w-full appearance-none focus:outline-none p-2 py-2.5 pr-8;
    }
    .primary-button {
        @apply button-base bg-blue-600 text-white active:bg-blue-700;
    }
    .secondary-button {
        @apply button-base text-700 shadow-sm border border-input active:bg-100 active:text-600 active:shadow-none focus:shadow-none;
    }
    .message {
        @apply flex grow min-h-0 flex-col items-center justify-center gap-4 px-4 text-500;
    }
    .message * {
        @apply shrink-0;
    }
    .heading {
        @apply text-700 font-bold;
    }
    .hide-separator::before {
        @apply opacity-0!;
    }
    .container {
        @apply flex flex-col grow min-h-0;
    }
    .link {
      @apply text-blue-600 pointer-fine:hover:underline pointer-fine:hover:text-blue-700;
    }
}
